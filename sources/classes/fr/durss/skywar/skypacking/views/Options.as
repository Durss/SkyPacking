package fr.durss.skywar.skypacking.views {	import fr.durss.skywar.skypacking.data.AppVersion;	import com.nurun.components.text.CssTextField;	import fr.durss.skywar.skypacking.data.Model;	import fr.durss.skywar.skypacking.views.options.Form;	import fr.durss.skywar.skypacking.views.options.Updater;	import com.nurun.structure.mvc.model.events.IModelEvent;	import com.nurun.structure.mvc.views.IView;	import flash.events.Event;	/**	 * DIsplays the options view.	 * 	 * @author  Francois	 */	public class Options extends AbstractSPView implements IView {		private var _form:Form;		private var _updater:Updater;		private var _updateLabel:CssTextField;						/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>Options</code>.		 */		public function Options() {			super();		}						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		/* ****** *		 * PUBLIC *		 * ****** */		override public function update(e:IModelEvent):void {			var model:Model = e.model as Model;			var id:int = model.stateIndex;			if(id == 3) {				open();			}else{				close();			}		}						/* ******* *		 * PRIVATE *		 * ******* */		/**		 * Initialize the class.		 */		override protected function initialize(e:Event):void {			super.initialize(e);			_form		= addChild(new Form()) as Form;			_updateLabel= addChild(new CssTextField("windowLabel")) as CssTextField;			_updater	= addChild(new Updater()) as Updater;						_updateLabel.text = "Gestionnaire de mises Ã  jour <font size='10'>(version actuelle - v" + AppVersion.VERSION + ")</font> :";						computePosition();		}		/**		 * Resize and replace elements.		 */		private function computePosition():void {			_form.y			= 10;			_updateLabel.y	= _form.y + _form.height + 10;			_updater.y		= Math.round(_updateLabel.y + _updateLabel.height);			_updater.height = HEIGHT -_updater.y;			graphics.clear();			graphics.lineStyle(0, 0x898D6B, 1);						graphics.moveTo(0, 0);			graphics.lineTo(WIDTH - 7, 0);						graphics.moveTo(0, _updateLabel.y + _updateLabel.height);			graphics.lineTo(WIDTH - 7, _updateLabel.y + _updateLabel.height);		}	}}